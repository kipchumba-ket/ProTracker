{"ast":null,"code":"var _jsxFileName = \"/home/ket/Development/ProTracker/src/components/comments/CommentBox.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport \"./comments.css\";\nimport ReactDOM from \"react-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { showNotification, hideNotification } from \"../toast/toastActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CommentReply = _ref => {\n  let {\n    reply,\n    formatTimestamp,\n    avatar_url\n  } = _ref;\n  let fomartedTimestamp = formatTimestamp(reply.created_at);\n  let avatarUrl = avatar_url == null ? \"https://www.shutterstock.com/image-vector/default-avatar-profile-icon-vector-260nw-1725655669.jpg\" : avatar_url;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"custom-comment\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"profile-image-container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: avatarUrl,\n        alt: \"profile_img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"content-box\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"project-comment\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          id: \"timestamp\",\n          children: fomartedTimestamp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"comment-content\",\n          children: reply.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, this);\n};\n_c = CommentReply;\nconst Comment = _ref2 => {\n  _s();\n  let {\n    comment,\n    replies,\n    formatTimestamp,\n    avatar_url,\n    handleToast\n  } = _ref2;\n  const token = localStorage.getItem(\"jwt\"); //store token in localStorage\n  const userId = localStorage.getItem(\"userId\");\n  const [replyContent, setReplyContent] = useState(\"\");\n  let commentReplies = replies.filter(rep => rep.parent_comment_id === comment.id);\n  const [filteredReplies, setFilteredReplies] = useState(commentReplies);\n  const handleReplyingToComment = value => {\n    let replyObj = {\n      comment_id: comment.id,\n      user_id: userId,\n      message: replyContent,\n      created_at: new Date()\n    };\n    setFilteredReplies([...filteredReplies, replyObj]);\n    commentReplies.push(replyObj);\n    let obj = {\n      comment_id: comment.id,\n      user_id: userId,\n      message: replyContent\n    };\n    fetch(\"http://localhost:3000/comments/reply\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      },\n      body: JSON.stringify(obj)\n    }).then(response => {\n      if (response.ok) {\n        handleToast(\"Reply sent!\", \"new\", \"secondary\");\n      } else {\n        handleToast(\"Failed to send reply\", \"error\", \"secondary\");\n      }\n    });\n    setReplyContent(\"\");\n  };\n  let commentRepliesList = filteredReplies.map(reply => {\n    return /*#__PURE__*/_jsxDEV(CommentReply, {\n      formatTimestamp: formatTimestamp,\n      reply: reply,\n      avatar_url: avatar_url\n    }, reply.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  });\n  let areRepliesAvailable = commentRepliesList.length > 0;\n  let fomartedTimestamp = formatTimestamp(comment.created_at);\n  let handleReplyToggle = e => {\n    const replyBox = e.target.nextSibling;\n    const replyBoxClass = replyBox.classList;\n    const viewMoreTitle = e.target.firstElementChild;\n    const viewMoreIcon = e.target.children[1];\n    if (replyBoxClass.contains(\"reply-box-inactive\")) {\n      replyBoxClass.replace(\"reply-box-inactive\", \"reply-box-active\");\n      viewMoreTitle.textContent = \"View less\";\n      viewMoreIcon.textContent = \"expand_less\";\n    } else if (replyBoxClass.contains(\"reply-box-active\")) {\n      replyBoxClass.replace(\"reply-box-active\", \"reply-box-inactive\");\n      viewMoreTitle.textContent = \"View all replies\";\n      viewMoreIcon.textContent = \"expand_more\";\n    }\n  };\n  const [isReplying, setIsReplying] = useState(false);\n  let toggleReplyForm = () => {\n    setIsReplying(!isReplying);\n  };\n  let replyWord = commentRepliesList.length === 1 ? \"reply\" : \"replies\";\n  let avatarUrl = avatar_url == null ? \"https://www.shutterstock.com/image-vector/default-avatar-profile-icon-vector-260nw-1725655669.jpg\" : avatar_url;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"custom-comment\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"profile-image-container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: avatarUrl,\n        alt: \"profile_img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"content-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"project-comment\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          id: \"timestamp\",\n          children: fomartedTimestamp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          id: \"comment-content\",\n          children: comment.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"comment-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: [commentRepliesList.length, \" \", replyWord]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"material-symbols-outlined\",\n              children: \"chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => {\n              toggleReplyForm();\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \"reply\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"material-symbols-outlined\",\n              children: \"chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), isReplying && /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"reply-input-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          onChange: e => {\n            setReplyContent(e.target.value);\n          },\n          placeholder: \"what are your thoughts?\",\n          value: replyContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"reply-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              toggleReplyForm();\n            },\n            id: \"cancel-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"material-symbols-outlined\",\n              children: \"close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              handleReplyingToComment();\n            },\n            id: \"reply-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"material-symbols-outlined\",\n              children: \"send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this), areRepliesAvailable && /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: e => {\n          handleReplyToggle(e);\n        },\n        id: \"view-more\",\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"View all replies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"material-icons\",\n          children: \"expand_more\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"reply-box\",\n        className: \"reply-box-inactive\",\n        children: commentRepliesList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n};\n_s(Comment, \"H5NiaPTvF4laoeUktTe/MhVgYi4=\");\n_c2 = Comment;\nconst CommentForm = _ref3 => {\n  _s2();\n  let {\n    formatTimestamp,\n    avatar_url\n  } = _ref3;\n  const dispatch = useDispatch();\n  const handleToast = (message, type, level) => {\n    dispatch(showNotification({\n      message: message,\n      type: type,\n      level: level,\n      toast_state: \"active\"\n    }));\n    setTimeout(() => {\n      dispatch(hideNotification());\n    }, 3000);\n  };\n  const token = localStorage.getItem(\"jwt\"); //store token in localStorage\n\n  const projectId = localStorage.getItem(\"projectId\");\n  const userId = localStorage.getItem(\"userId\");\n  const [message, setMessage] = useState(\"\");\n  let handleCommenting = message => {\n    setMessage(message);\n  };\n  let handlePosting = () => {\n    let commentBox = document.getElementById(\"comments-box\");\n    let comment = {\n      message: message,\n      created_at: new Date()\n    };\n    let comment_obj = {\n      message: message,\n      project_id: projectId,\n      user_id: userId\n    };\n    fetch(\"http://localhost:3000/comments/comment\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      },\n      body: JSON.stringify(comment_obj)\n    }).then(response => {\n      if (response.ok) {\n        handleToast(\"Comment sent!\", \"new\", \"secondary\");\n      } else {\n        handleToast(\"Comment not dent!\", \"error\", \"secondary\");\n      }\n    });\n    const newComment = /*#__PURE__*/_jsxDEV(Comment, {\n      comment: comment,\n      formatTimestamp: formatTimestamp,\n      replies: [],\n      avatar_url: avatar_url\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this);\n    const newCommentContainer = document.createElement(\"div\");\n    newCommentContainer.classList.add(\"custom-comment\");\n    ReactDOM.render(newComment, newCommentContainer);\n    commentBox.appendChild(newCommentContainer);\n    setMessage(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"custom-comment-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      onChange: e => {\n        handleCommenting(e.target.value);\n      },\n      type: \"text\",\n      placeholder: \"Start typing...\",\n      value: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        handlePosting();\n      },\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"material-icons\",\n        children: \"rocket_launch\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 5\n  }, this);\n};\n_s2(CommentForm, \"uu4K6RbY15ykqKRUainELqpFmfs=\", false, function () {\n  return [useDispatch];\n});\n_c3 = CommentForm;\nfunction CommentBox() {\n  _s3();\n  const dispatch = useDispatch();\n  const handleToast = (message, type, level) => {\n    dispatch(showNotification({\n      message: message,\n      type: type,\n      level: level,\n      toast_state: \"active\"\n    }));\n    setTimeout(() => {\n      dispatch(hideNotification());\n    }, 3000);\n  };\n  const project_id = localStorage.getItem(\"projectId\");\n  const token = localStorage.getItem(\"jwt\");\n  let formatTimestamp = timestamp => {\n    const seconds = Math.floor((new Date() - new Date(timestamp)) / 1000);\n    let interval = Math.floor(seconds / 31536000);\n    if (interval > 1) {\n      return interval + \" yrs ago\";\n    }\n    interval = Math.floor(seconds / 2592000);\n    if (interval > 1) {\n      return interval + \" months ago\";\n    }\n    interval = Math.floor(seconds / 86400);\n    if (interval > 1) {\n      return interval + \" days ago\";\n    }\n    interval = Math.floor(seconds / 3600);\n    if (interval > 1) {\n      return interval + \" hrs ago\";\n    }\n    interval = Math.floor(seconds / 60);\n    if (interval >= 60) {\n      return \"1 hour ago\";\n    } else if (interval === 0) {\n      return \"just now\";\n    } else {\n      return interval + \" mins ago\";\n    }\n    return Math.floor(seconds) + \" s ago\";\n  };\n  const [comments, setComments] = useState([]);\n  useEffect(() => {\n    fetch(`http://localhost:3000/comments/project_comments/${project_id}`).then(response => response.json()).then(data => {\n      setComments(data);\n    });\n  }, [project_id]);\n  const [avatar_url, setAvatarUrl] = useState(null);\n  useEffect(() => {\n    fetch(\"http://localhost:3000/user_profile\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      }\n    }).then(response => response.json()).then(data => {\n      setAvatarUrl(data.avatar_url);\n    });\n  }, []);\n  let rootComments = comments.filter(comment => comment.parent_comment_id === null);\n  let rootCommentsList = rootComments.map(comment => {\n    return /*#__PURE__*/_jsxDEV(Comment, {\n      formatTimestamp: formatTimestamp,\n      comment: comment,\n      avatar_url: avatar_url,\n      replies: comment.replies,\n      handleToast: handleToast\n    }, comment.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"comment-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"comments-box\",\n      children: rootCommentsList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CommentForm, {\n      project_id: project_id,\n      formatTimestamp: formatTimestamp,\n      avatar_url: avatar_url\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 395,\n    columnNumber: 5\n  }, this);\n}\n_s3(CommentBox, \"Un+4GrWZ6ssR+J/Lngt/hhcJJYQ=\", false, function () {\n  return [useDispatch];\n});\n_c4 = CommentBox;\nexport default CommentBox;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"CommentReply\");\n$RefreshReg$(_c2, \"Comment\");\n$RefreshReg$(_c3, \"CommentForm\");\n$RefreshReg$(_c4, \"CommentBox\");","map":{"version":3,"names":["React","useEffect","useState","ReactDOM","useDispatch","showNotification","hideNotification","jsxDEV","_jsxDEV","CommentReply","_ref","reply","formatTimestamp","avatar_url","fomartedTimestamp","created_at","avatarUrl","id","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","message","_c","Comment","_ref2","_s","comment","replies","handleToast","token","localStorage","getItem","userId","replyContent","setReplyContent","commentReplies","filter","rep","parent_comment_id","filteredReplies","setFilteredReplies","handleReplyingToComment","value","replyObj","comment_id","user_id","Date","push","obj","fetch","method","headers","Authorization","body","JSON","stringify","then","response","ok","commentRepliesList","map","areRepliesAvailable","length","handleReplyToggle","e","replyBox","target","nextSibling","replyBoxClass","classList","viewMoreTitle","firstElementChild","viewMoreIcon","contains","replace","textContent","isReplying","setIsReplying","toggleReplyForm","replyWord","className","onClick","onChange","placeholder","_c2","CommentForm","_ref3","_s2","dispatch","type","level","toast_state","setTimeout","projectId","setMessage","handleCommenting","handlePosting","commentBox","document","getElementById","comment_obj","project_id","newComment","newCommentContainer","createElement","add","render","appendChild","_c3","CommentBox","_s3","timestamp","seconds","Math","floor","interval","comments","setComments","json","data","setAvatarUrl","rootComments","rootCommentsList","_c4","$RefreshReg$"],"sources":["/home/ket/Development/ProTracker/src/components/comments/CommentBox.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./comments.css\";\nimport ReactDOM from \"react-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { showNotification, hideNotification } from \"../toast/toastActions\";\n\nconst CommentReply = ({ reply, formatTimestamp, avatar_url }) => {\n  let fomartedTimestamp = formatTimestamp(reply.created_at);\n\n  let avatarUrl =\n    avatar_url == null\n      ? \"https://www.shutterstock.com/image-vector/default-avatar-profile-icon-vector-260nw-1725655669.jpg\"\n      : avatar_url;\n\n  return (\n    <div id=\"custom-comment\">\n      <div id=\"profile-image-container\">\n        <img src={avatarUrl} alt=\"profile_img\" />\n      </div>\n      <div id=\"content-box\">\n        <div id=\"project-comment\">\n          <h6 id=\"timestamp\">{fomartedTimestamp}</h6>\n          <p id=\"comment-content\">{reply.message}</p>\n        </div>\n      \n      </div>\n    </div>\n  );\n};\n\nconst Comment = ({ comment, replies, formatTimestamp, avatar_url,handleToast }) => {\n  \n  const token = localStorage.getItem(\"jwt\"); //store token in localStorage\n  const userId = localStorage.getItem(\"userId\");\n\n  const [replyContent, setReplyContent] = useState(\"\");\n\n  let commentReplies = replies.filter(\n    (rep) => rep.parent_comment_id === comment.id\n  );\n\n  const [filteredReplies, setFilteredReplies] = useState(commentReplies);\n\n  const handleReplyingToComment = (value) => {\n    let replyObj = {\n      comment_id: comment.id,\n      user_id: userId,\n      message: replyContent,\n      created_at: new Date(),\n    };\n\n    setFilteredReplies([...filteredReplies, replyObj]);\n\n    commentReplies.push(replyObj);\n\n    let obj = {\n      comment_id: comment.id,\n      user_id: userId,\n      message: replyContent,\n    };\n\n    fetch(\"http://localhost:3000/comments/reply\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n      body: JSON.stringify(obj),\n    }).then((response) => {\n      if (response.ok) {\n        handleToast(\"Reply sent!\", \"new\", \"secondary\")\n      } else {\n        handleToast(\"Failed to send reply\", \"error\", \"secondary\")\n      }\n    });\n\n    setReplyContent(\"\");\n  };\n\n  let commentRepliesList = filteredReplies.map((reply) => {\n    return (\n      <CommentReply\n        formatTimestamp={formatTimestamp}\n        reply={reply}\n        key={reply.id}\n        avatar_url={avatar_url}\n      />\n    );\n  });\n\n  let areRepliesAvailable = commentRepliesList.length > 0;\n\n  let fomartedTimestamp = formatTimestamp(comment.created_at);\n\n  let handleReplyToggle = (e) => {\n    const replyBox = e.target.nextSibling;\n    const replyBoxClass = replyBox.classList;\n    const viewMoreTitle = e.target.firstElementChild;\n    const viewMoreIcon = e.target.children[1];\n\n    if (replyBoxClass.contains(\"reply-box-inactive\")) {\n      replyBoxClass.replace(\"reply-box-inactive\", \"reply-box-active\");\n      viewMoreTitle.textContent = \"View less\";\n      viewMoreIcon.textContent = \"expand_less\";\n    } else if (replyBoxClass.contains(\"reply-box-active\")) {\n      replyBoxClass.replace(\"reply-box-active\", \"reply-box-inactive\");\n      viewMoreTitle.textContent = \"View all replies\";\n      viewMoreIcon.textContent = \"expand_more\";\n    }\n  };\n\n  const [isReplying, setIsReplying] = useState(false);\n  let toggleReplyForm = () => {\n    setIsReplying(!isReplying);\n  };\n  let replyWord = commentRepliesList.length === 1 ? \"reply\" : \"replies\";\n  let avatarUrl =\n    avatar_url == null\n      ? \"https://www.shutterstock.com/image-vector/default-avatar-profile-icon-vector-260nw-1725655669.jpg\"\n      : avatar_url;\n\n  return (\n    <div id=\"custom-comment\">\n      <div id=\"profile-image-container\">\n        <img src={avatarUrl} alt=\"profile_img\" />\n      </div>\n      <div id=\"content-box\">\n        <div id=\"project-comment\">\n          <h6 id=\"timestamp\">{fomartedTimestamp}</h6>\n          <p id=\"comment-content\">{comment.message}</p>\n          <div id=\"comment-details\">\n            <div>\n              <h6>\n                {commentRepliesList.length} {replyWord}\n              </h6>\n              &nbsp;&nbsp;\n              <i className=\"material-symbols-outlined\">chat</i>\n            </div>\n            <div\n              onClick={() => {\n                toggleReplyForm();\n              }}\n            >\n              <h6>reply</h6>\n              &nbsp;&nbsp;\n              <i className=\"material-symbols-outlined\">chat</i>\n            </div>\n          </div>\n        </div>\n\n        {isReplying && (\n          <div id=\"reply-input-box\">\n            <textarea\n              onChange={(e) => {\n                setReplyContent(e.target.value);\n              }}\n              placeholder=\"what are your thoughts?\"\n              value={replyContent}\n            ></textarea>\n            <div id=\"reply-controls\">\n              <button\n                onClick={() => {\n                  toggleReplyForm();\n                }}\n                id=\"cancel-btn\"\n              >\n                <i className=\"material-symbols-outlined\">close</i>\n              </button>\n              <button\n                onClick={() => {\n                  handleReplyingToComment();\n                }}\n                id=\"reply-btn\"\n              >\n                <i className=\"material-symbols-outlined\">send</i>\n              </button>\n            </div>\n          </div>\n        )}\n\n        {areRepliesAvailable && (\n          <div\n            onClick={(e) => {\n              handleReplyToggle(e);\n            }}\n            id=\"view-more\"\n          >\n            <h6>View all replies</h6>\n            <i className=\"material-icons\">expand_more</i>\n          </div>\n        )}\n\n        <div id=\"reply-box\" className=\"reply-box-inactive\">\n          {commentRepliesList}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst CommentForm = ({ formatTimestamp, avatar_url }) => {\n  const dispatch = useDispatch();\n  const handleToast = (message, type, level) => {\n    dispatch(\n      showNotification({\n        message: message,\n        type: type,\n        level: level,\n        toast_state: \"active\",\n      })\n    );\n    setTimeout(() => {\n      dispatch(hideNotification());\n    }, 3000);\n  };\n\n  const token = localStorage.getItem(\"jwt\"); //store token in localStorage\n\n  const projectId = localStorage.getItem(\"projectId\");\n  const userId = localStorage.getItem(\"userId\");\n\n  const [message, setMessage] = useState(\"\");\n\n  let handleCommenting = (message) => {\n    setMessage(message);\n  };\n\n  let handlePosting = () => {\n    let commentBox = document.getElementById(\"comments-box\");\n\n    let comment = {\n      message: message,\n      created_at: new Date(),\n    };\n\n    let comment_obj = {\n      message: message,\n      project_id: projectId,\n      user_id: userId,\n    };\n\n    fetch(\"http://localhost:3000/comments/comment\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n      body: JSON.stringify(comment_obj),\n    }).then((response) => {\n      if (response.ok) {\n        handleToast(\"Comment sent!\", \"new\", \"secondary\");\n      } else {\n        handleToast(\"Comment not dent!\", \"error\", \"secondary\");\n      }\n    });\n\n    const newComment = (\n      <Comment\n        comment={comment}\n        formatTimestamp={formatTimestamp}\n        replies={[]}\n        avatar_url={avatar_url}\n      />\n    );\n\n    const newCommentContainer = document.createElement(\"div\");\n    newCommentContainer.classList.add(\"custom-comment\");\n    ReactDOM.render(newComment, newCommentContainer);\n\n    commentBox.appendChild(newCommentContainer);\n\n    setMessage(\"\");\n  };\n\n  return (\n    <div id=\"custom-comment-form\">\n      <input\n        onChange={(e) => {\n          handleCommenting(e.target.value);\n        }}\n        type=\"text\"\n        placeholder=\"Start typing...\"\n        value={message}\n      ></input>\n      <button\n        onClick={() => {\n          handlePosting();\n        }}\n      >\n        <i className=\"material-icons\">rocket_launch</i>\n      </button>\n    </div>\n  );\n};\n\nfunction CommentBox() {\n\n  const dispatch = useDispatch();\n  const handleToast = (message, type, level) => {\n    dispatch(\n      showNotification({\n        message: message,\n        type: type,\n        level: level,\n        toast_state: \"active\",\n      })\n    );\n    setTimeout(() => {\n      dispatch(hideNotification());\n    }, 3000);\n  };\n\n  const project_id = localStorage.getItem(\"projectId\");\n  const token = localStorage.getItem(\"jwt\");\n\n  let formatTimestamp = (timestamp) => {\n    const seconds = Math.floor((new Date() - new Date(timestamp)) / 1000);\n\n    let interval = Math.floor(seconds / 31536000);\n    if (interval > 1) {\n      return interval + \" yrs ago\";\n    }\n\n    interval = Math.floor(seconds / 2592000);\n    if (interval > 1) {\n      return interval + \" months ago\";\n    }\n\n    interval = Math.floor(seconds / 86400);\n    if (interval > 1) {\n      return interval + \" days ago\";\n    }\n\n    interval = Math.floor(seconds / 3600);\n    if (interval > 1) {\n      return interval + \" hrs ago\";\n    }\n\n    interval = Math.floor(seconds / 60);\n    if (interval >= 60) {\n      return \"1 hour ago\";\n    } else if (interval === 0) {\n      return \"just now\";\n    } else {\n      return interval + \" mins ago\";\n    }\n\n    return Math.floor(seconds) + \" s ago\";\n  };\n\n  const [comments, setComments] = useState([]);\n\n  useEffect(() => {\n    fetch(\n      `http://localhost:3000/comments/project_comments/${project_id}`\n    )\n      .then((response) => response.json())\n      .then((data) => {\n        setComments(data);\n      });\n  }, [project_id]);\n\n  const [avatar_url, setAvatarUrl] = useState(null);\n\n  useEffect(() => {\n    fetch(\"http://localhost:3000/user_profile\", {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        setAvatarUrl(data.avatar_url);\n      });\n  }, []);\n\n  let rootComments = comments.filter(\n    (comment) => comment.parent_comment_id === null\n  );\n\n  let rootCommentsList = rootComments.map((comment) => {\n    return (\n      <Comment\n        formatTimestamp={formatTimestamp}\n        comment={comment}\n        key={comment.id}\n        avatar_url={avatar_url}\n        replies={comment.replies}\n        handleToast={handleToast}\n      />\n    );\n  });\n  return (\n    <section id=\"comment-section\">\n      <div id=\"comments-box\">{rootCommentsList}</div>\n      <CommentForm\n        project_id={project_id}\n        formatTimestamp={formatTimestamp}\n        avatar_url={avatar_url}\n      />\n    </section>\n  );\n}\n\nexport default CommentBox;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}